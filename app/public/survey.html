<!DOCTYPE html>
    <html>
        <head>
            <title>FriendFinder</title>
            <!-- Using bootstrap -->
            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
             integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        </head>
        <body>
            <!-- container div -->
            <div class="container">
                <!-- need to ask the user their name and for a photo link -->
                <header>
                    <!-- first form should be for name -->
                    <h2>About you</h2>
                    <br>
                    <h4>Name (required)</h4>
                    <input class="form-control" id="name" type="text" placeholder="John Smith">
                    <!-- second for should be for photo -->
                    <h4>Photo (required)</h4>
                    <input class="form-control" id="photograph" type="text" placeholder="https://via.placeholder.com/150C">
                </header>
                <!-- box for questions -->
                <br>
                <div class="questions">
                    <h2>Please answer these 10 preferential questions from 1 (worst) to 5 (best)</h2>
                    <br>
                    <!-- Question box is where I should put all of the information for a given question -->
                    <div class="questionbox">
                        <h4>How much do you like cookies?</h4>
                        <select class="form-control form-control-sm" id="question1">
                            <!-- Answers need to be catagorized from 1 through 5 -->
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <!-- Will need 10 of these -->
                    <div class="questionbox">
                        <h4>How much do you like Disney Princesses?</h4>
                        <select class="form-control form-control-sm" id="question2">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>How much of a sports fan are you?</h4>
                        <select class="form-control form-control-sm" id="question3">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>What's your opinion on pinapples on pizza?</h4>
                        <select class="form-control form-control-sm" id="question4">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>What's your opinion on Detective Pikachu?</h4>
                        <select class="form-control form-control-sm" id="question5">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>Do you like Shrek?</h4>
                        <select class="form-control form-control-sm" id="question6">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>How good are you at saying the alphabet backwards?</h4>
                        <select class="form-control form-control-sm" id="question7">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>How likely are you to eat dumpster pizza?</h4>
                        <select class="form-control form-control-sm" id="question8">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>How much do you like Whataburger?</h4>
                        <select class="form-control form-control-sm" id="question9">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <div class="questionbox">
                        <h4>How likely are you to play the lottery?</h4>
                        <select class="form-control form-control-sm" id="question10">
                            <option value="1">1</option>
                            <option value="2">2</option>
                            <option value="3">3</option>
                            <option value="4">4</option>
                            <option value="5">5</option>
                        </select>
                    </div>
                    <br>
                    <!-- Submit button should record the information the user has selected -->
                    <input class="btn btn-primary" id="subForm" type="submit" value="Submit">
                </div>
            </div>
            <footer>
                <!-- using the container to keep everything in the center -->
                <div class="container">
                    <!-- links to the api and Repository -->
                    <a class="apifriendlist" href="/api/friends">API Friends List</a> | <a class="github" href="#">Github Repository</a>
                </div>
            </footer>

            <!-- need a pop up to show the best friend match -->
            <div class="modal fade" id="resultScreen" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Best Match</h5>
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                            </button>
                        </div>
                        <div class="modal-body">
                            <h3 id="matchName"></h3>
                            <img id="matchPhoto">
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- jquery cdn -->
            <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
            <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
            <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
            <script type="text/javascript">
                // need to record name, photo, and answers
                $("#subForm").on("click", function(event) {

                    // prevent repeats
                    event.preventDefault();
                    // make a new character
                    var newCharacter = {
                        name: $("#name").val().trim(),
                        photo: $("#photograph").val().trim(),
                        // need to make the answers an array
                        score: [
                            // the values in the dropdown options should be the answer
                            $("#question1").val(),
                            $("#question2").val(),
                            $("#question3").val(),
                            $("#question4").val(),
                            $("#question5").val(),
                            $("#question6").val(),
                            $("#question7").val(),
                            $("#question8").val(),
                            $("#question9").val(),
                            $("#question10").val()
                        ]
                    };
                    // console.log(newCharacter);
                    // need to add new character
                    $.post("/api/friends", newCharacter)
                        .then(function(data) {
                            console.log(data);
                            $("#matchName").text(data.name);
                            $("#matchPhoto").attr("src", data.photo);
                            $("#matchPhoto").attr("alt", data.name);
                            $("#resultScreen").modal("toggle");
                        });
                    } 
                );
            </script>
        </body>
    </html>